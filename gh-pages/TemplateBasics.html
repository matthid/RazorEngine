<!DOCTYPE html>
<html lang="en">
<!-- GENERATED FROM COMMIT: 0e575dd707f6e20273b8b88872d0ecb3fd45bfb9 -->
  <head>
    <meta charset="utf-8">
    <title>Template basics
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Simple templating using Razor syntax.">
    <meta name="author" content="Matthew Abbott">

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="https://matthid.github.io/RazorEngine/content/style.css" />
    <script type="text/javascript" src="https://matthid.github.io/RazorEngine/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://tpetricek.github.io/FSharp.Formatting/"><img height="16" width="16" src="http://fsharp.org/images/thumbs/FSharp.Formatting.png" /> F# Formatting</a></li>
        </ul>
        <h3 class="muted"><a href="https://matthid.github.io/RazorEngine/index.html">RazorEngine</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Template-basics" class="anchor" href="#Template-basics">Template basics</a></h1>

<h2><a name="Getting-Started" class="anchor" href="#Getting-Started">Getting Started</a></h2>

<p>RazorEngine provides a base implementation of a template class, the <code>TemplateBase</code>, this is normally superseded by the model specific template class, the <code>TemplateBase&lt;T&gt;</code>. For most use cases, we're hoping this will be enough. To get started with template using RazorEngine, you can simply use the static <code>Razor</code> type:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs1', 3)" onmouseover="showTip(event, 'fs1', 3)" class="i">string</span> <span class="i">template</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">&lt;</span><span class="s">div</span><span class="s">&gt;</span><span class="s">Hello</span><span class="s"> </span><span class="s">@</span><span class="s">Model</span><span class="s">.</span><span class="s">Name</span><span class="s">&lt;</span><span class="s">/</span><span class="s">div</span><span class="s">&gt;</span><span class="s">&quot;</span>;
<span class="i">var</span> <span class="i">model</span> <span class="o">=</span> <span class="k">new</span> { <span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Matt</span><span class="s">&quot;</span> };

<span onmouseout="hideTip(event, 'fs1', 4)" onmouseover="showTip(event, 'fs1', 4)" class="i">string</span> <span class="i">result</span> <span class="o">=</span> <span class="i">Razor</span><span class="o">.</span><span class="i">Parse</span>(<span class="i">template</span>, <span class="i">model</span>);</pre>
</td>
</tr>
</table>

<p>Which should result in:</p>

<blockquote>
  <p><code>&lt;div&gt;Hello Matt&lt;/div&gt;</code></p>
</blockquote>

<h2><a name="Using-Anonymous-Types" class="anchor" href="#Using-Anonymous-Types">Using Anonymous Types</a></h2>

<p>RazorEngine supports anonymous types (those declared as <code>var</code> with no identifier, e.g. <code>var model = { Name = "Matt" };</code>. The set of statements to use an anonymous model, is exactly the same as a statically type model (as seen above):</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs1', 3)" onmouseover="showTip(event, 'fs1', 3)" class="i">string</span> <span class="i">template</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">&lt;</span><span class="s">div</span><span class="s">&gt;</span><span class="s">Hello</span><span class="s"> </span><span class="s">@</span><span class="s">Model</span><span class="s">.</span><span class="s">Name</span><span class="s">&lt;</span><span class="s">/</span><span class="s">div</span><span class="s">&gt;</span><span class="s">&quot;</span>;
<span class="i">var</span> <span class="i">model</span> <span class="o">=</span> <span class="k">new</span> { <span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Matt</span><span class="s">&quot;</span> };

<span onmouseout="hideTip(event, 'fs1', 4)" onmouseover="showTip(event, 'fs1', 4)" class="i">string</span> <span class="i">result</span> <span class="o">=</span> <span class="i">Razor</span><span class="o">.</span><span class="i">Parse</span>(<span class="i">template</span>, <span class="i">model</span>);</pre>
</td>
</tr>
</table>

<p>Thanks to the C# compiler's (and Visual Studio's) type inference, it will determine the model type that is passed to the generic <code>Razor.Parse&lt;T&gt;(string, T)</code> method for you, keeping the code clean and concise.</p>

<blockquote>
  <p>Note: Anonymous types are not supported when using the <code>IsolatedTemplateService</code></p>
</blockquote>

<h2><a name="Using-Dynamic-Types" class="anchor" href="#Using-Dynamic-Types">Using Dynamic Types</a></h2>

<p>RazorEngine has support for dynamic types (those declared as <code>dynamic</code>). Again, the structure for using dynamic types is very similar:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs1', 5)" onmouseover="showTip(event, 'fs1', 5)" class="i">string</span> <span class="i">template</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">&lt;</span><span class="s">div</span><span class="s">&gt;</span><span class="s">Hello</span><span class="s"> </span><span class="s">@</span><span class="s">Model</span><span class="s">.</span><span class="s">Name</span><span class="s">&lt;</span><span class="s">/</span><span class="s">div</span><span class="s">&gt;</span><span class="s">&quot;</span>;
<span class="i">dynamic</span> <span class="i">model</span> <span class="o">=</span> <span class="k">new</span> <span class="i">ExpandoObject</span>();
<span class="i">model</span><span class="o">.</span><span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Matt</span><span class="s">&quot;</span>;

<span onmouseout="hideTip(event, 'fs1', 6)" onmouseover="showTip(event, 'fs1', 6)" class="i">string</span> <span class="i">result</span> <span class="o">=</span> <span class="i">Razor</span><span class="o">.</span><span class="i">Parse</span>(<span class="i">template</span>, <span class="i">model</span>);</pre>
</td>
</tr>
</table>

<blockquote>
  <p>Note: Dynamic types are not supported when using the <code>IsolatedTemplateService</code></p>
</blockquote>

<h2><a name="Caching-Templates" class="anchor" href="#Caching-Templates">Caching Templates</a></h2>

<p>When you provide a name argument to your call, RazorEngine will cache the compiled type so we can re-use the template type for subsequent executions:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs1', 7)" onmouseover="showTip(event, 'fs1', 7)" class="i">string</span> <span class="i">result</span> <span class="o">=</span> <span class="i">Razor</span><span class="o">.</span><span class="i">Parse</span>(<span class="i">template</span>, <span class="i">model</span>, <span class="s">&quot;</span><span class="s">test</span><span class="s">&quot;</span>);</pre>
</td>
</tr>
</table>

<p>If you reuse the same template again, it will not have to parse and recompile the template, because we've already cached it.</p>

<blockquote>
  <p>Note: If you call to parse a template with a name for the cached version, but the template content has changed, RazorEngine will invalidate the cached version and replace with the update template. This allows templates to be cached, changed and re-cached over time.</p>
</blockquote>

<h2><a name="Pre-compiling-and-Running-Templates" class="anchor" href="#Pre-compiling-and-Running-Templates">Pre-compiling and Running Templates</a></h2>

<p>On the back of the caching feature mentioned above, RazorEngine supports the ability to pre-compile your templates for later execution. Convenience methods called <code>Compile</code> and <code>Run</code> allow you to make an initial compile and cache of your template (<code>Compile</code>) and then execute it later (<code>Run</code>):</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="i">Razor</span><span class="o">.</span><span class="i">Compile</span>(<span class="i">template</span>, <span class="s">&quot;</span><span class="s">testTemplate</span><span class="s">&quot;</span>);

<span class="c">// And then...</span>
<span onmouseout="hideTip(event, 'fs1', 8)" onmouseover="showTip(event, 'fs1', 8)" class="i">string</span> <span class="i">result</span> <span class="o">=</span> <span class="i">Razor</span><span class="o">.</span><span class="i">Run</span>(<span class="s">&quot;</span><span class="s">testTemplate</span><span class="s">&quot;</span>);</pre>
</td>
</tr>
</table>

<h2><a name="Configuration" class="anchor" href="#Configuration">Configuration</a></h2>

<p>By default RazorEngine is configured to encode using Html. This supports the majority of users but with some configuration changes you can also set it to encode using Raw format which is better suited for templates that generate things like javascript, php, C# and others.</p>

<h3><a name="Old-school" class="anchor" href="#Old-school">Old school:</a></h3>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="i">var</span> <span class="i">config</span> <span class="o">=</span> <span class="k">new</span> <span class="i">TemplateServiceConfiguration</span>();
<span class="i">config</span><span class="o">.</span><span class="i">EncodedStringFactory</span> <span class="o">=</span> <span class="k">new</span> <span class="i">RawStringFactory</span>();

<span class="c">// create a new TemplateService and pass in the configuration to the constructor</span>
<span class="i">var</span> <span class="i">myConfiguredTemplateService</span> <span class="o">=</span> <span class="k">new</span> <span class="i">TemplateService</span>(<span class="i">config</span>);
<span class="c">// set the template service to our configured one</span>
<span class="i">Razor</span><span class="o">.</span><span class="i">SetTemplateService</span>(<span class="i">myConfiguredTemplateService</span>);

<span class="c">// start parsing templates</span>
<span onmouseout="hideTip(event, 'fs1', 9)" onmouseover="showTip(event, 'fs1', 9)" class="i">string</span> <span class="i">template</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Hello</span><span class="s"> </span><span class="s">\&quot;</span><span class="s">@</span><span class="s">(</span><span class="s">Model</span><span class="s">.</span><span class="s">Name</span><span class="s">)</span><span class="s">\&quot;</span><span class="s">&quot;</span>;
<span class="i">var</span> <span class="i">model</span> <span class="o">=</span> <span class="k">new</span> { <span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Matt</span><span class="s">&quot;</span> };

<span onmouseout="hideTip(event, 'fs1', 10)" onmouseover="showTip(event, 'fs1', 10)" class="i">string</span> <span class="i">result</span> <span class="o">=</span> <span class="i">Razor</span><span class="o">.</span><span class="i">Parse</span>(<span class="i">template</span>, <span class="i">model</span>);</pre>
</td>
</tr>
</table>

<p>Which should result in:</p>

<blockquote>
  <p><code>Hello "Matt"</code></p>
</blockquote>

<h3><a name="Using-the-fluent-API" class="anchor" href="#Using-the-fluent-API">Using the fluent API:</a></h3>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="i">var</span> <span class="i">config</span> <span class="o">=</span> <span class="k">new</span> <span class="i">FluentTemplateServiceConfiguration</span>(<span class="i">c</span> <span class="o">=&gt;</span> <span class="i">c</span><span class="o">.</span><span class="i">WithEncoding</span>(<span class="i">RazorEngine</span><span class="o">.</span><span class="i">Encoding</span><span class="o">.</span><span class="i">Raw</span>));

<span class="c">// create a new TemplateService and pass in the configuration to the constructor</span>
<span class="i">var</span> <span class="i">myConfiguredTemplateService</span> <span class="o">=</span> <span class="k">new</span> <span class="i">TemplateService</span>(<span class="i">config</span>);
<span class="c">// set the template service to our configured one</span>
<span class="i">Razor</span><span class="o">.</span><span class="i">SetTemplateService</span>(<span class="i">myConfiguredTemplateService</span>);

<span class="c">// start parsing templates</span>
<span onmouseout="hideTip(event, 'fs1', 11)" onmouseover="showTip(event, 'fs1', 11)" class="i">string</span> <span class="i">template</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Hello</span><span class="s"> </span><span class="s">\&quot;</span><span class="s">@</span><span class="s">(</span><span class="s">Model</span><span class="s">.</span><span class="s">Name</span><span class="s">)</span><span class="s">\&quot;</span><span class="s">&quot;</span>;
<span class="i">var</span> <span class="i">model</span> <span class="o">=</span> <span class="k">new</span> { <span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Matt</span><span class="s">&quot;</span> };

<span onmouseout="hideTip(event, 'fs1', 12)" onmouseover="showTip(event, 'fs1', 12)" class="i">string</span> <span class="i">result</span> <span class="o">=</span> <span class="i">Razor</span><span class="o">.</span><span class="i">Parse</span>(<span class="i">template</span>, <span class="i">model</span>);</pre>
</td>
</tr>
</table>

<p>Which should result in:</p>

<blockquote>
  <p><code>Hello "Matt"</code></p>
</blockquote>

<div class="tip" id="fs1">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>

        </div>
        <div class="span3">
          <a href="https://matthid.github.io/RazorEngine/index.html">
            <img src="https://matthid.github.io/RazorEngine/images/logo.png" style="width:140px;height:140px;margin:10px 0px 0px 35px;border-style:none;" />
          </a>

          <ul class="nav nav-list" id="menu">

            <li class="nav-header">RazorEngine</li>

            <li class="divider"></li>
        <!--
            <li><a href="https://www.nuget.org/packages/RazorEngine/">Get RazorEngine package via NuGet</a></li>
        -->
            <li><a href="https://github.com/matthid/RazorEngine">Source Code</a></li>
            <li><a href="https://github.com/matthid/RazorEngine/issues">Open bugs and feature requests</a></li>
            <li><a href="https://github.com/matthid/RazorEngine/issues/new">Report Issue or Request Feature</a></li>
            <li><a href="https://github.com/matthid/RazorEngine/blob/master/doc/LICENSE.md">License (MS-PL)</a></li>
            <li><a href="https://matthid.github.io/RazorEngine/Contributing.html">Contributing</a></li>
            
            <li class="nav-header">Documentation</li>
              
            <li><a href="https://matthid.github.io/RazorEngine/index.html">Introduction</a></li>
            <li><a href="https://matthid.github.io/RazorEngine/DevelopReadme.html">Development Intro</a></li>
            <li><a href="https://matthid.github.io/RazorEngine/ReleaseNotes.html">Release Notes</a></li>
            <li><a href="https://matthid.github.io/RazorEngine/AboutRazor.html">About Razor and its Syntax</a></li>
            <li><a href="https://matthid.github.io/RazorEngine/Encoding.html">Encoding Values in Razor</a></li>
            <li><a href="https://matthid.github.io/RazorEngine/TemplateBasics.html">Templating basics</a></li>
            <li><a href="https://matthid.github.io/RazorEngine/IntellisenseAndResharper.html">Intellisense and ReSharper</a></li>

            <li class="nav-header">Reference</li>
              
            <li><a href="https://matthid.github.io/RazorEngine/references/index.html">API Reference</a></li>

          </ul>
        </div>
      </div>
    </div>
      <a href="https://github.com/matthid/RazorEngine"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
    </body>
  </html>
